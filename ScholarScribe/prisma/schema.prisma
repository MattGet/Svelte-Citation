// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Source {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  type         String
  title        String?
  URL          String?
  userid       String
  user         String?
  author       Author[]
  date         Date?
  publisher    String?
  volume_title String?
  volume String?
  issue String?
  page String?
  edition String?
  locator String? //patent number
  groupids String[]   @db.ObjectId
  groups    Group[]  @relation(fields: [groupids], references: [id])
  tagids    String[]   @db.ObjectId
  tags      Tags[]  @relation(fields: [tagids], references: [id])
}

type Author {
  family      String
  given       String
  suffix      String?
  sequence    String?
  affiliation String[]
}
model Group {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  userid      String
  title       String @unique
  genDel      String
  genre       String[]
  isPublic    Boolean
  sourceids   String[] @db.ObjectId
  sources     Source[]   @relation(fields: [sourceids], references: [id])
  tagids      String[] @db.ObjectId
  tags        Tags[]   @relation(fields: [tagids], references: [id])
}
model Tags{
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  sourceids   String[] @db.ObjectId
  sources     Source[]   @relation(fields: [sourceids], references: [id])
  groupids    String[]   @db.ObjectId
  groups      Group[]  @relation(fields: [groupids], references: [id])
  text        String
  timeCreated DateTime
  
}



type Date {
  year  String
  month String?
  day   String?
}
